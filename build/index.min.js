let e={init:function(){e.t=document.querySelector('.grid-cell[data-label="CampusSlides"]');e.form=document.createElement("FORM");e.form.classList.add("grid-cell","grid-cell-vertical","static","slides-form");e.form.action="https://gcm.schule/slides/submit/";e.form.method="POST";e.form.target="_blank";e.form.innerHTML=`<h2>CampusSlides</h2><textarea class="cisui-textarea" name="slides-md"></textarea><button type="submit" class="cisui-button">slide it!</button>`;e.t.parentNode.replaceChild(e.form,e.t)}};document.addEventListener("DOMContentLoaded",e.init);let i={load:function(){i.t=document.querySelector('.grid-cell[data-label="Snake"]');i.t.addEventListener("click",i.init)},init:function(){i.t.removeEventListener("click",i.init);i.t.addEventListener("click",i.start);i.t.classList.add("static");i.t.classList.add("snake");i.t.innerHTML="";i.canvas=document.createElement("CANVAS");i.canvas.width=16;i.canvas.height=16;i.t.appendChild(i.canvas);i.i=i.canvas.getContext("2d");document.body.addEventListener("keydown",i.control);i.o=[];i.l={};i.start()},start:function(){i.o=[{x:2,y:7},{x:3,y:7},{x:4,y:7}];i.direction=i.u.right;i.m=false;i.p();if(i.interval)window.clearInterval(i.interval);i.interval=window.setInterval(i.loop,200);i.h()},loop:function(){if(!i.m){i.move();if(i.k(i.l.x,i.l.y)){let e=i.o[i.o.length-1];e={x:e.x,y:e.y};i.o.splice(0,0,e);i.p()}i.h();document.title="Score: "+(i.o.length-3)+" | Snake"}else{document.title="GAME OVER – <SPACE> to restart"}},h:function(){let l=i.i.getImageData(0,0,16,16);for(let t=0;t<16;t++){for(let e=0;e<16;e++){if(i.k(t,e)){n(t,e,[85,136,51,255])}else if(i.l.x==t&&i.l.y==e){n(t,e,[119,170,51,255])}else{n(t,e,[51,51,51,255])}}}i.i.putImageData(l,0,0);function n(e,t,n){let i=(t*16+e)*4;l.data[i]=n[0];l.data[i+1]=n[1];l.data[i+2]=n[2];l.data[i+3]=n[3]}},move:function(){i.o.splice(0,1);let e=i.o[i.o.length-1];e={x:e.x,y:e.y};switch(i.direction){case i.u.right:e.x++;break;case i.u.g:e.y++;break;case i.u.left:e.x--;break;case i.u.v:e.y--}if(i.k(e.x,e.y)||e.x>15||e.x<0||e.y>15||e.y<0){i.m=true}i.o.push(e)},control:function(e){if(e.target!=document.body)return;switch(e.keyCode){case 87:case 38:if(i.direction!=i.u.g)i.direction=i.u.v;break;case 65:case 37:if(i.direction!=i.u.right)i.direction=i.u.left;break;case 83:case 40:if(i.direction!=i.u.v)i.direction=i.u.g;break;case 68:case 39:if(i.direction!=i.u.left)i.direction=i.u.right;break;case 32:i.start();default:return}e.preventDefault()},u:{right:0,g:1,left:2,v:3},p:function(){let e=true;while(e){i.l.x=Math.floor(Math.random()*16);i.l.y=Math.floor(Math.random()*16);e=i.k(i.l.x,i.l.y)}},k:function(t,n){for(let e=0;e<i.o.length;e++){if(i.o[e].x==t&&i.o[e].y==n){return true}}return false}};document.addEventListener("DOMContentLoaded",i.load);let l={init:function(){l.t=document.querySelector('.grid-cell[data-label="Timer"]');l.t.classList.add("timer");l.t.classList.add("static");l.t.innerHTML="";l.elements=[];l.elements.D=e("DIV","time-container");l.t.appendChild(l.elements.D);l.elements.I=e("DIV","time-input hour","00");l.elements.V=e("DIV","time-input minute","10");l.elements.M=e("DIV","time-input second","00");l.elements.D.appendChild(l.elements.I);l.elements.D.appendChild(document.createTextNode(":"));l.elements.D.appendChild(l.elements.V);l.elements.D.appendChild(document.createTextNode(":"));l.elements.D.appendChild(l.elements.M);l.elements.O=e("DIV","button-container");l.t.appendChild(l.elements.O);l.elements.C=e("BUTTON","button","löschen");l.elements.K=e("BUTTON","button primary","start");l.elements.O.appendChild(l.elements.C);l.elements.O.appendChild(l.elements.K);l.elements.K.onclick=l.start;l.elements.C.onclick=l.clear;document.body.addEventListener("click",l.S);document.body.addEventListener("keydown",l.T);function e(e,t,n){let i=document.createElement(e);i.setAttribute("class",t);i.innerHTML=n||"";return i}},A:function(e,t,n,i){l.elements.K.innerText=e;l.elements.C.innerText=n;if(t)l.elements.K.onclick=t;if(i)l.elements.C.onclick=i},start:function(){l.A("pause",l.stop,"abbrechen",l.clear);l.timeout=window.setInterval(l.update,1e3);l.update();l.t.classList.add("running")},stop:function(){l.A("weiter",l.start,"abbrechen",l.clear);window.clearInterval(l.timeout);l.t.classList.remove("running")},clear:function(){l.A("start",l.start,"löschen",l.clear);l.elements.K.disabled=false;window.clearInterval(l.timeout);l.t.classList.remove("running");l.t.classList.remove("done");l.elements.I.innerText="00";l.elements.V.innerText="10";l.elements.M.innerText="00"},end:function(){l.elements.C.innerText="fertig";l.elements.K.disabled=true;window.clearInterval(l.timeout);l.t.classList.add("done")},update:function(){let e=parseInt(l.elements.I.innerText);let t=parseInt(l.elements.V.innerText);let n=parseInt(l.elements.M.innerText);n--;if(n<0){n=59;t--;if(t<0){t=59;e--;if(e<0){e=0;t=0;n=0;l.end()}}}l.elements.I.innerText=(e+"").padStart(2,"0");l.elements.V.innerText=(t+"").padStart(2,"0");l.elements.M.innerText=(n+"").padStart(2,"0")},S:function(e){let t=l.t.querySelector(".time-input.focussed");if(t){t.classList.remove("focussed")}if(e.target.classList.contains("time-input")&&!l.t.classList.contains("running")){e.target.classList.add("focussed")}},T:function(e){let t=l.t.querySelector(".time-input.focussed");if(t){if(e.key.match("^[0-9]$")){if(t.innerText.charAt(0)==="0"){t.innerText=t.innerText.substring(1)}else{t.innerText="0"}t.innerText+=e.key;if(t.innerText.charAt(0)!=="0"){l.L.B(t)}}else if(e.keyCode==8){if(t.innerText==="00"){l.L.N(t)}else{t.innerText=("0"+t.innerText).substring(0,2)}}else if(e.keyCode==9){if(e.shiftKey){if(l.L.N(t))e.preventDefault()}else{if(l.L.B(t))e.preventDefault()}}else if(e.keyCode==37){l.L.N(t)}else if(e.keyCode==39){l.L.B(t)}else if(!e.ctrlKey&&!e.metaKey){e.preventDefault()}}},L:{N:function(e){let t=e.previousElementSibling||e;e.classList.remove("focussed");t.classList.add("focussed");return e!=t},B:function(e){let t=e.nextElementSibling||e;e.classList.remove("focussed");t.classList.add("focussed");return e!=t}}};document.addEventListener("DOMContentLoaded",l.init);let r={init:function(){r.cell=document.querySelector('.grid-cell[data-label="Vertretungsplan"]');r.cell.classList.add("vertretungsplan");r.cell.classList.add("static");r.cell.innerHTML="";r.elements=[];const e="http://@@@@@@@@@@.@@@@@.@@@@@@@.net/example_data.json";fetch(e).then(e=>{if(e.ok){return e.json()}else{r.error(r.errors.failed)}}).then(e=>{r.populate(e)}).catch(e=>{r.error(r.errors.failed)})},populate:function(e){const t=["Tag","Time","Informationen"];let n=e[0];if(n=="false")return r.error(r.errors.empty);r.elements.container=m("vp-container");r.cell.appendChild(r.elements.container);for(entryKey in n){let u=n[entryKey];if(!t.includes(entryKey)){let e=parseInt(entryKey);let t=m("vp-header");let n=m("class-label",entryKey);let d=m("vp-body");t.appendChild(n);r.elements.container.appendChild(t);r.elements.container.appendChild(d);for(contentKey in u){let e=u[contentKey];let t=e["Stunde"]||"";let n=e["Fach"]||"";let i=e["Raum"]!="---"?e["Raum"]:"";let l=(e["Hinweis"]||"").trim();let r=(e["Art"]||"").trim();let a=m("vp-content");let s=m("vp-content1",t+(t==""?"":". ")+n);let o=m("vp-content2",i);let c=m("vp-content3",r+(r==""||l==""?"":": ")+l);a.appendChild(s);a.appendChild(o);a.appendChild(c);d.appendChild(a)}}}function m(e,t){let n=document.createElement("DIV");n.setAttribute("class",e);n.innerHTML=t||"";return n}},error:function(e){if(Object.values(r.errors).indexOf(e)>-1){console.error(e)}else{console.error("unknown error")}r.cell.innerHTML="";r.cell.appendChild(document.createTextNode("Kein Vertretungsplan verfügbar"));let t=document.createElement("A");t.innerHTML="DSB";t.setAttribute("href","https://dsbmobile.de");t.setAttribute("class","button primary");r.cell.appendChild(t);let n=document.createElement("DIV");n.innerHTML=e;n.classList.add("subtitle");r.cell.appendChild(n)},errors:{failed:"network unreachable or request failed",empty:"no data available"}};document.addEventListener("DOMContentLoaded",r.init);
